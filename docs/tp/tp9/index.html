<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Séance 9 #  Exercice 1 #  Exercice 2 #  Exercice 3 #  declare fun {MakeBinaryGate F} fun {$ S1 S2} fun {Gate SA SB} case SA#SB of (HA|TA)#(HB|TB) then {F HA HB}|{Gate TA TB} else nil end end in thread {Gate S1 S2} end end end And = {MakeBinaryGate fun {$ A B} A*B end} Or = {MakeBinaryGate fun {$ A B} A+B-A*B end} Nand={MakeBinaryGate fun {$ X Y} 1-X*Y end} Nor={MakeBinaryGate fun {$ X Y} 1-X-Y+X*Y end} Xor={MakeBinaryGate fun {$ X Y} X+Y-2*X*Y end} S1 = 0|0|1|1|_ S2 = 0|1|0|1|_ Exercice 4 #  local R=1|1|1|0|_ S=0|1|0|0|_ Q NotQ fun {Delay S} 0|S end proc {Bascule Rs Ss Qs NotQs} DelayedQs = {Delay Qs} DelayedNotQs = {Delay NotQs} in {Nor Rs DelayedNotQs Qs} {Nor Ss DelayedQs NotQs} end in {Bascule R S Q NotQ} {Browse Q#NotQ} end Exercice 5 #  declare proc {ForCollect Xs P Ys} N = {NewCell 1} Acc = {NewCell Ys} proc{C X} R2 in @Acc=X|R2 {Browse @N#R2} Acc := R2 {Browse r22#R2} {Cell."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Séance 9"><meta property="og:description" content="Séance 9 #  Exercice 1 #  Exercice 2 #  Exercice 3 #  declare fun {MakeBinaryGate F} fun {$ S1 S2} fun {Gate SA SB} case SA#SB of (HA|TA)#(HB|TB) then {F HA HB}|{Gate TA TB} else nil end end in thread {Gate S1 S2} end end end And = {MakeBinaryGate fun {$ A B} A*B end} Or = {MakeBinaryGate fun {$ A B} A+B-A*B end} Nand={MakeBinaryGate fun {$ X Y} 1-X*Y end} Nor={MakeBinaryGate fun {$ X Y} 1-X-Y+X*Y end} Xor={MakeBinaryGate fun {$ X Y} X+Y-2*X*Y end} S1 = 0|0|1|1|_ S2 = 0|1|0|1|_ Exercice 4 #  local R=1|1|1|0|_ S=0|1|0|0|_ Q NotQ fun {Delay S} 0|S end proc {Bascule Rs Ss Qs NotQs} DelayedQs = {Delay Qs} DelayedNotQs = {Delay NotQs} in {Nor Rs DelayedNotQs Qs} {Nor Ss DelayedQs NotQs} end in {Bascule R S Q NotQ} {Browse Q#NotQ} end Exercice 5 #  declare proc {ForCollect Xs P Ys} N = {NewCell 1} Acc = {NewCell Ys} proc{C X} R2 in @Acc=X|R2 {Browse @N#R2} Acc := R2 {Browse r22#R2} {Cell."><meta property="og:type" content="article"><meta property="og:url" content="https://ahzed11.github.io/guide-oz/docs/tp/tp9/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2022-03-28T14:32:38+02:00"><meta property="article:modified_time" content="2022-03-28T14:32:38+02:00"><meta property="og:site_name" content="Guide OZ"><title>Séance 9 | Guide OZ</title><link rel=manifest href=/guide-oz/manifest.json><link rel=icon href=/guide-oz/favicon.png type=image/x-icon><link rel=stylesheet href=/guide-oz/book.min.87312a22c120b2e99e4dbec51f671dd6b1cb0bed3b12a909c39a0aa981eb5a8f.css integrity="sha256-hzEqIsEgsumeTb7FH2cd1rHLC+07EqkJw5oKqYHrWo8=" crossorigin=anonymous><script defer src=/guide-oz/flexsearch.min.js></script>
<script defer src=/guide-oz/en.search.min.d76d0e0b56ae0da391ab1a30d122bca60b4a139b4c5c76508563b515a0cd4a11.js integrity="sha256-120OC1auDaORqxow0SK8pgtKE5tMXHZQhWO1FaDNShE=" crossorigin=anonymous></script>
<link rel=stylesheet href=https://ahzed11.github.io/guide-oz/css/prism.css><script type=text/javascript src=https://ahzed11.github.io/guide-oz/js/prism.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/guide-oz/><span>Guide OZ</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://ahzed11.github.io/guide-oz/docs/installation/>Installation de Mozart2</a><ul><li><a href=https://ahzed11.github.io/guide-oz/docs/installation/vscode/>VSCode</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/installation/windows/>Windows</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/installation/macos/>Macos</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/installation/linux/>Linux</a></li></ul></li><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/>TP</a><ul><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/tp1/>Séance 1</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/tp2/>Séance 2</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/tp3/>Séance 3</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/tp4/>Séance 4</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/tp5/>Séance 5</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/tp6/>Séance 6</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/tp8/>Séance 8</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/tp9/ class=active>Séance 9</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/tp10/>Séance 10</a></li><li><a href=https://ahzed11.github.io/guide-oz/docs/tp/tp11/>Séance 11</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/guide-oz/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Séance 9</strong>
<label for=toc-control><img src=/guide-oz/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#exercice-1>Exercice 1</a></li><li><a href=#exercice-2>Exercice 2</a></li><li><a href=#exercice-3>Exercice 3</a></li><li><a href=#exercice-4>Exercice 4</a></li><li><a href=#exercice-5>Exercice 5</a></li></ul></nav></aside></header><article class=markdown><h1 id=séance-9>Séance 9
<a class=anchor href=#s%c3%a9ance-9>#</a></h1><h2 id=exercice-1>Exercice 1
<a class=anchor href=#exercice-1>#</a></h2><h2 id=exercice-2>Exercice 2
<a class=anchor href=#exercice-2>#</a></h2><h2 id=exercice-3>Exercice 3
<a class=anchor href=#exercice-3>#</a></h2><pre tabindex=0><code class=language-oz data-lang=oz>declare

fun {MakeBinaryGate F}
    fun {$ S1 S2}
        fun {Gate SA SB}
	        case SA#SB
            of (HA|TA)#(HB|TB) then
                {F HA HB}|{Gate TA TB}
            else
                nil
            end
        end
    in
        thread {Gate S1 S2} end
    end
end

And = {MakeBinaryGate fun {$ A B} A*B end}
Or = {MakeBinaryGate fun {$ A B} A+B-A*B end}
Nand={MakeBinaryGate fun {$ X Y} 1-X*Y end}
Nor={MakeBinaryGate fun {$ X Y} 1-X-Y+X*Y end}
Xor={MakeBinaryGate fun {$ X Y} X+Y-2*X*Y end}
S1 = 0|0|1|1|_
S2 = 0|1|0|1|_
</code></pre><h2 id=exercice-4>Exercice 4
<a class=anchor href=#exercice-4>#</a></h2><pre tabindex=0><code class=language-oz data-lang=oz>local R=1|1|1|0|_ S=0|1|0|0|_ Q NotQ
   fun {Delay S}
      0|S
   end

   proc {Bascule Rs Ss Qs NotQs}
      DelayedQs = {Delay Qs}
      DelayedNotQs = {Delay NotQs}
   in
      {Nor Rs DelayedNotQs Qs}
      {Nor Ss DelayedQs NotQs}
   end
in
   {Bascule R S Q NotQ}
   {Browse Q#NotQ}
end
</code></pre><h2 id=exercice-5>Exercice 5
<a class=anchor href=#exercice-5>#</a></h2><pre tabindex=0><code class=language-oz data-lang=oz>declare
proc {ForCollect Xs P Ys}
    N = {NewCell 1}
    Acc = {NewCell Ys}
    proc{C X}
        R2
    in
        @Acc=X|R2
        {Browse @N#R2}
        Acc := R2
        {Browse r22#R2}
        {Cell.assign N N+1}
    end
in
    for X in Xs do
        {P C X}
    end
    @Acc = nil
end

{Browse {ForCollect [0 2 4 6 8] proc {$ Collect X} {Collect X div 2} end}}
</code></pre></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#exercice-1>Exercice 1</a></li><li><a href=#exercice-2>Exercice 2</a></li><li><a href=#exercice-3>Exercice 3</a></li><li><a href=#exercice-4>Exercice 4</a></li><li><a href=#exercice-5>Exercice 5</a></li></ul></nav></div></aside></main></body></html>